!function(){const t=document.querySelector("form");if(!t)return!1;t.action=document.location.href,"/"==document.location.pathname&&(t.action="/home");const e=document.createElement("div");e.classList.add("form__results"),t.after(e),t.addEventListener("submit",(function(n){n.preventDefault();const o=t.getAttribute("action")+".json",c=t.getAttribute("method");fetch(o,{method:c,body:new FormData(t)}).then((function(t){return t.ok?t.text():t.json()})).then((function(n){if(e){let o='<p class="notice notice--'+(n=JSON.parse(n)).status+'">';o+=n.message,o+="</p>",e.innerHTML=o,"success"==n.status&&(t.classList.add("submitted"),t.querySelector(".button[type=submit]").remove())}})).catch((function(t){throw e&&(e.innerHTML="Error: "+t),new Error(t)}))}))}();